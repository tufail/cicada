{"version":3,"sources":["webpack://cicada/webpack/universalModuleDefinition","webpack://cicada/webpack/bootstrap","webpack://cicada/./main.js","webpack://cicada/D:/learn/cicada/node_modules/js-cookie/src/js.cookie.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","m","CicadaTrack","param","params","location","search","substr","split","i","length","p","decodeURIComponent","field","url","href","string","RegExp","exec","uri","key","value","re","separator","indexOf","match","replace","date","Date","getDate","slice","getMonth","getFullYear","join","val","srcData","src_cookie","Cookies","get","this","checkMedium","document","referrer","set","source","expires","medium","org_src","org_mdm","toLowerCase","protocol","host","setFirstTrackingCookies","that","jQuery","ready","data","nameDf","nname","formateCk","getQueryString","getT","on","each","nlink","nhrf","attr","is_external","updateQprm","urlString","srcDomain","directUrl","url_mdm","url_src","url_glicd","getParameter","boot","extend","result","arguments","attributes","decode","s","init","converter","api","path","defaults","toUTCString","JSON","stringify","test","e","write","encodeURIComponent","String","escape","attributeName","stringifiedAttributes","cookie","json","jar","cookies","parts","charAt","name","read","parse","getJSON","remove","withConverter","c","d","getter","o","Object","defineProperty","enumerable","r","Symbol","toStringTag","t","mode","__esModule","ns","create","bind","n","object","property","prototype","hasOwnProperty","call","moduleId","l","modules"],"mappings":"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","file":"cicada.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"cicada\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cicada\"] = factory();\n\telse\n\t\troot[\"cicada\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import Cookies from 'js-cookie';\r\n\r\nexport default class CicadaTrack {\r\n\tconstructor() {\r\n\t\tthis.url_src = this.getParameter('utm_source') || false;\r\n\t\tthis.url_glicd = this.getParameter('gclid') || false;\r\n\t\tthis.url_mdm = this.getParameter('utm_medium') || false;\r\n\t\tthis.org_src = this.getParameter('cicada_org_src') || false;\r\n\t\tthis.org_mdm = this.getParameter('cicada_org_mdm') || false;\r\n\t\tthis.boot();\r\n\t}\r\n\r\n\t//get paramter from the URL\r\n\tgetParameter(param) {\r\n\t\tlet params = window.location.search.substr(1).split('&');\r\n\t\tfor (let i = 0; i < params.length; i++) {\r\n\t\t\tlet p = params[i].split('=');\r\n\t\t\tif (p[0] == param) {\r\n\t\t\t\treturn decodeURIComponent(p[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tgetQueryString(field, url) {\r\n\t\tlet href = url ? url : window.location.href;\r\n\t\tlet reg = new RegExp('[?&]' + field + '=([^&#]*)', 'i');\r\n\t\tlet string = reg.exec(href);\r\n\t\treturn string ? string[1] : null;\r\n\t}\r\n\r\n\tupdateQprm(uri, key, value) {\r\n\t\tlet re = new RegExp('([?&])' + key + '=.*?(&|$)', 'i');\r\n\t\tlet separator = uri.indexOf('?') !== -1 ? '&' : '?';\r\n\t\tif (uri.match(re)) {\r\n\t\t\treturn uri.replace(re, '$1' + key + '=' + value + '$2');\r\n\t\t} else {\r\n\t\t\treturn uri + separator + key + '=' + value;\r\n\t\t}\r\n\t}\r\n\r\n\tgetT(timestamp) {\r\n\t\tlet date = new Date();\r\n\t\treturn [\r\n\t\t\t('0' + date.getDate()).slice(-2), // Get day and pad it with zeroes\r\n\t\t\t('0' + (date.getMonth() + 1)).slice(-2), // Get month and pad it with zeroes\r\n\t\t\tdate.getFullYear() // Get full year\r\n\t\t].join('-'); // Glue the pieces together\r\n\t}\r\n\r\n\tformateCk(val) {\r\n\t\treturn val.replace(/\\./gm, '');\r\n\t}\r\n\r\n\tsetFirstTrackingCookies() {\r\n\t\tlet src_cookie = Cookies.get('cicada_src');\r\n\t\tlet mdm_cookie = Cookies.get('cicada_mdm');\r\n\t\tif (!mdm_cookie || !src_cookie) {\r\n\t\t\tlet srcData = this.checkMedium(document.referrer || window.location.href);\r\n\t\t\tCookies.set('cicada_src', srcData.source, { expires: 120 });\r\n\t\t\tCookies.set('cicada_mdm', srcData.medium, { expires: 120 });\r\n\r\n\t\t\tif (this.org_src) {\r\n\t\t\t\tCookies.set('cicada_org_src', this.org_src, { expires: 120 });\r\n\t\t\t\tCookies.set('cicada_org_mdm', this.org_mdm || 'referrer', { expires: 120 });\r\n\t\t\t} else {\r\n\t\t\t\tCookies.set('cicada_org_src', srcData.source, { expires: 120 });\r\n\t\t\t\tCookies.set('cicada_org_mdm', srcData.medium, { expires: 120 });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tis_external(url) {\r\n\t\tvar match = url.match(/^([^:\\/?#]+:)?(?:\\/\\/([^\\/?#]*))?([^?#]+)?(\\?[^#]*)?(#.*)?/);\r\n\t\tif (typeof match[1] === 'string' && match[1].length > 0 && match[1].toLowerCase() !== location.protocol)\r\n\t\t\treturn true;\r\n\t\tif (\r\n\t\t\ttypeof match[2] === 'string' &&\r\n\t\t\tmatch[2].length > 0 &&\r\n\t\t\tmatch[2].replace(new RegExp(':(' + { 'http:': 80, 'https:': 443 }[location.protocol] + ')?$'), '') !==\r\n\t\t\tlocation.host\r\n\t\t)\r\n\t\t\treturn true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\tboot() {\r\n\t\tthis.setFirstTrackingCookies();\r\n\t\tlet that = this;\r\n\t\tjQuery(document).ready(() => {\r\n\t\t\tif (!Cookies.get('crsi')) {\r\n\t\t\t\tjQuery.get('https://www.cloudflare.com/cdn-cgi/trace', (data) => {\r\n\t\t\t\t\tvar dataarray = data.split('\\n');\r\n\t\t\t\t\tvar nameDf = dataarray[2].slice(3);\r\n\t\t\t\t\tvar nname = that.formateCk(nameDf);\r\n\t\t\t\t\tif (!Cookies.get('crsi') && that.getQueryString('crsi')) {\r\n\t\t\t\t\t\tCookies.set('crsi', that.getQueryString('crsi'), { expires: 120 });\r\n\t\t\t\t\t} else if (!Cookies.get('crsi')) {\r\n\t\t\t\t\t\tCookies.set('crsi', nname, { expires: 120 });\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!Cookies.get('crst')) {\r\n\t\t\t\t\t\tCookies.set('crst', that.getT(), { expires: 120 });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tjQuery(window).on('load', () => {\r\n\t\t\tlet that = this;\r\n\t\t\tjQuery('a[href]').each(function () {\r\n\t\t\t\tif (jQuery(this).attr('href')) {\r\n\t\t\t\t\tlet nlink = jQuery(this).attr('href');\r\n\t\t\t\t\tif (nlink !== '#' && that.is_external(nlink)) {\r\n\t\t\t\t\t\tlet nhrf = that.updateQprm(nlink, 'crsi', Cookies.get('crsi'));\r\n\t\t\t\t\t\tnhrf = that.updateQprm(nhrf, 'cicada_org_src', Cookies.get('cicada_org_src'));\r\n\t\t\t\t\t\tnhrf = that.updateQprm(nhrf, 'cicada_org_mdm', Cookies.get('cicada_org_mdm'));\r\n\t\t\t\t\t\tjQuery(this).attr('href', nhrf);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tcheckMedium(urlString) {\r\n\t\turlString = urlString.replace('&cicada_org_src=' + this.org_src, '');\r\n\t\turlString = urlString.replace('cicada_org_src=' + this.org_src, '');\r\n\t\turlString = urlString.replace('&cicada_org_mdm=' + this.org_mdm, '');\r\n\t\turlString = urlString.replace('cicada_org_mdm=' + this.org_mdm, '');\r\n\t\tlet srcDomain = urlString.match('.*://(?:www.)?([^/]+)')[1] || urlString.match('.*://(?:www.)?([^/]+)')[0];\r\n\t\tlet directUrl = window.location.href.match('.*://(?:www.)?([^/]+)')[1] || window.location.href.match('.*://(?:www.)?([^/]+)')[0]\r\n\t\tdebugger;\r\n\t\tif (this.url_mdm) {\r\n\t\t\treturn { source: this.url_src, medium: this.url_mdm || 'CPC' };\r\n\t\t} else if (this.url_glicd) {\r\n\t\t\treturn { source: this.url_src || 'google', medium: this.url_mdm || 'CPC' };\r\n\t\t} else if (urlString.indexOf('facebook') > -1 || urlString.indexOf('fb') > -1) {\r\n\t\t\treturn { source: this.url_src || 'facebook', medium: this.url_mdm || 'social' }\r\n\t\t} else if (urlString.indexOf('twitter') > -1) {\r\n\t\t\treturn { source: this.url_src || 'twitter', medium: this.url_mdm || 'social' }\r\n\t\t} else if (urlString.indexOf('gmail') > -1 || urlString.indexOf('outlook') > -1 || urlString.indexOf('email') > -1 || urlString.indexOf('newsletter') > -1) {\r\n\t\t\treturn { source: srcDomain, medium: 'email' }\r\n\t\t} else if (urlString.indexOf('coupons.com') > -1) {\r\n\t\t\treturn { source: 'coupons.com', medium: 'affiliate' }\r\n\t\t} else if (urlString.indexOf('google.com') > -1) {\r\n\t\t\treturn { source: 'google.com', medium: 'organic' }\r\n\t\t} else if (urlString.indexOf('bing.com') > -1) {\r\n\t\t\treturn { source: 'bing.com', medium: 'organic' }\r\n\t\t} else if (urlString.indexOf('duckduckgo.com') > -1) {\r\n\t\t\treturn { source: 'duckduckgo', medium: 'organic' }\r\n\t\t} else if ((window.location.href === document.referrer) || document.referrer === '') {\r\n\t\t\treturn { source: directUrl, medium: 'direct' }\r\n\t\t} else {\r\n\t\t\treturn { source: srcDomain, medium: 'referrer' }\r\n\t\t}\r\n\t}\r\n}\r\n\r\nwindow.CicadaTrack = new CicadaTrack();\r\n","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n"],"sourceRoot":""}